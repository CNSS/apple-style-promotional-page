let e=!1;window.innerHeight>window.innerWidth&&(e=!0);let t=!1;"ontouchstart"in window&&(t=!0);const r=document.getElementsByClassName("title_chinese")[0],l=document.getElementsByClassName("container title wrapper")[0];r.style.setProperty("--perc","100%");const n=document.getElementsByClassName("container cards wrapper")[0];let o=!1;document.addEventListener("scroll",e=>{let t=l.style.getPropertyValue("--percent");t>1?t=1:t<0&&(t=0),r.style.setProperty("--perc",100*t+"%"),n.getBoundingClientRect().top<window.innerHeight&&n.getBoundingClientRect().bottom>0&&(o||(o=!0))});const s=document.getElementsByClassName("container keywords wrapper")[0];document.addEventListener("scroll",e=>{let t=1-s.style.getPropertyValue("--percent");t>1?t=1:t<0&&(t=0);let r=document.getElementsByClassName("div keywords");if(0==r.length)return;let l=Math.floor(t*r.length);for(let e=0;e<r.length;e++)if(r[e].hasAttribute("data-show")){}for(let e=0;e<l;e++)r[e].hasAttribute["data-up"]||r[e].setAttribute("data-up",""),r[e].hasAttribute("data-show")&&r[e].removeAttribute("data-show");for(let e=l;e<r.length;e++)r[e].hasAttribute("data-up")&&r[e].removeAttribute("data-up"),r[e].hasAttribute("data-show")&&r[e].removeAttribute("data-show");r[l].setAttribute("data-show","")});const a=document.getElementsByClassName("popup-container");for(let e=0;e<a.length;e++)a[e].addEventListener("click",e=>{e.stopPropagation()});const i=document.getElementsByClassName("popup-background")[0];function c(e){function t(e){e.style.top="100%",i.style.setProperty("backdrop-filter","blur(0px)"),i.style.setProperty("-webkit-backdrop-filter","blur(0px)"),this.setTimeout(()=>{e.style.display="none",i.style.display="none"},400),document.body.style.overflow="",document.documentElement.style.overflow=""}e&&(i.style.display="block",e.style.display="block",e.style.opacity=1,this.setTimeout(()=>{i.style.setProperty("backdrop-filter","blur(20px)"),i.style.setProperty("-webkit-backdrop-filter","blur(20px)"),e.style.top=0},0),document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",e.getElementsByClassName("popup-close-btn")[0].addEventListener("click",t.bind(this,e)),e.addEventListener("click",t.bind(this,e)))}const d=document.getElementsByClassName("card-face");for(let e=0;e<d.length;e++){let t=d[e].getAttribute("popup"),r=document.getElementsByClassName("popup "+t)[0];d[e].parentElement.getElementsByClassName("card-button-more")[0].addEventListener("click",c.bind(this,r))}const p=document.getElementsByClassName("popup-content-card-image reimbursement"),u=document.getElementsByClassName("popup money")[0].getElementsByClassName("popup-container")[0];u.addEventListener("scroll",t=>{for(let t=0;t<p.length;t++)if(p[t].getBoundingClientRect().top<window.innerHeight&&p[t].getBoundingClientRect().bottom>0){let r=1-p[t].getBoundingClientRect().top/window.innerHeight,l=[.1,.4];e&&(l=[0,.3]),r=(r-l[0])/(l[1]-l[0]),r>1?r=1:r<0&&(r=0);let n=`${Math.floor(80*r)}%`;p[t].style.getPropertyValue("background-size")!=n&&p[t].style.setProperty("background-size",n)}});let y=["ms","bd","ali","jd","tx"],m=["kaust","cmu","pku","thu"];const g=document.getElementsByClassName("popup-content-card-image offers")[0],f=document.getElementsByClassName("popup-content-card-image schools")[0],b=document.getElementsByClassName("popup offer")[0].getElementsByClassName("popup-container")[0];g.style.setProperty("--bg-opacity",0),f.style.setProperty("--bg-opacity",0);let h="";for(let e=0;e<y.length;e++)h+=`url(/static/img/offers/${y[e]}.png) no-repeat center center / cover,`;g.style.setProperty("--bg",h.slice(0,-1)),h="";for(let e=0;e<m.length;e++)h+=`url(/static/img/schools/${m[e]}.png) no-repeat center center / cover,`;f.style.setProperty("--bg",h.slice(0,-1));let E=t=>{if(g.getBoundingClientRect().top<window.innerHeight&&g.getBoundingClientRect().bottom>0){let t=1-g.getBoundingClientRect().top/window.innerHeight,r=[.3,.8];e&&(r=[.2,.6]),t=(t-r[0])/(r[1]-r[0]),t>1?t=1:t<0&&(t=0);let l=t*y.length,n=Math.floor(l),o="";for(let e=n-1;e>=0;e--)o+=`url("/static/img/offers/${y[e]}.png") no-repeat center center / cover,`;o=o.slice(0,-1),g.style.getPropertyValue("--bg")!=o&&(g.style.setProperty("--bg",o),n<y.length?g.style.setProperty("--after-bg",`url("/static/img/offers/${y[n]}.png") no-repeat center center / cover`):g.style.setProperty("--after-bg","rgba(0, 0, 0, 0)"));let s=l-n;s=Math.round(100*s)/100,g.style.getPropertyValue("--bg-opacity")!=s&&g.style.setProperty("--bg-opacity",s)}if(!e&&f.getBoundingClientRect().top<window.innerHeight&&f.getBoundingClientRect().bottom>0){let t=1-f.getBoundingClientRect().top/window.innerHeight,r=[.3,.8];e&&(r=[0,.3]),t=(t-r[0])/(r[1]-r[0]),t>1?t=1:t<0&&(t=0);let l=t*m.length,n=Math.floor(l),o="";for(let e=n-1;e>=0;e--)o+=`url("/static/img/schools/${m[e]}.png") no-repeat center center / cover,`;o=o.slice(0,-1),f.style.getPropertyValue("--bg")!=o&&(f.style.setProperty("--bg",o),n<m.length?f.style.setProperty("--after-bg",`url("/static/img/schools/${m[n]}.png") no-repeat center center / cover`):f.style.setProperty("--after-bg","none"));let s=l-n;s=Math.round(100*s)/100,f.style.getPropertyValue("--bg-opacity")!=s&&f.style.setProperty("--bg-opacity",s)}};b.addEventListener("scroll",E);let v=document.getElementsByClassName("nav-bar-element"),w=0;const P=document.getElementsByClassName("nav-images")[0],B=()=>{P.getBoundingClientRect().top>window.innerHeight||P.getBoundingClientRect().bottom<0||(w=(w+1)%v.length,v[w].click())};let k=setInterval(B,3e3);for(let e=0;e<v.length;e++)v[e].addEventListener("click",t=>{w=e,clearInterval(k),k=setInterval(B,3e3)});const A=document.querySelector(".card-set"),C=document.getElementById("leftArrow"),L=document.getElementById("rightArrow"),N=document.querySelector(".page-button-container");let T=0,R=A.querySelector(".list-items").offsetWidth+parseFloat(getComputedStyle(A).columnGap);function x(){C.disabled=A.scrollLeft<=100,L.disabled=A.scrollLeft>=A.scrollWidth-A.clientWidth-100,!0===C.disabled&&!0===L.disabled?N.style.opacity=0:N.style.opacity=1,R=A.querySelector(".list-items").offsetWidth+parseFloat(getComputedStyle(A).columnGap)}C.addEventListener("click",()=>{A.scrollBy({left:-R,behavior:"smooth"})}),L.addEventListener("click",()=>{A.scrollBy({left:R,behavior:"smooth"})}),A.addEventListener("scroll",x),window.addEventListener("resize",x),x();const V=document.querySelectorAll(".faq-item"),q=document.querySelector(".faq-list"),S=document.querySelectorAll(".container.faq.wrapper")[1],H=.25,$=.75;S.addEventListener("tg",()=>{if(S.style.getPropertyValue("--rev-percent")<H||S.style.getPropertyValue("--rev-percent")>$)q.style.gridTemplateRows="1fr ".repeat(V.length-1)+"1fr",q.removeAttribute("sticky");else{q.setAttribute("sticky","");let t="";V.forEach(e=>{e.hasAttribute("focused")?t+="4fr ":t+="1fr "}),e||(q.style.gridTemplateRows=t)}}),V.forEach((t,r)=>{e?t.addEventListener("click",()=>{let e="1fr ".repeat(V.length-1)+"1fr";t.hasAttribute("focused")?(t.removeAttribute("focused"),e="1fr ".repeat(V.length-1)+"1fr"):(e=Array.from({length:V.length},(e,t)=>t===r?"4fr":"1fr").join(" "),V.forEach((e,t)=>{t!==r?e.removeAttribute("focused"):e.setAttribute("focused","")})),S.style.getPropertyValue("--rev-percent")<H||S.style.getPropertyValue("--rev-percent")>$?q.style.gridTemplateRows="1fr ".repeat(V.length-1)+"1fr":q.style.gridTemplateRows=e}):(t.addEventListener("mouseenter",()=>{if(V.forEach((e,t)=>{t!==r?e.removeAttribute("focused"):e.setAttribute("focused","")}),S.style.getPropertyValue("--rev-percent")<H||S.style.getPropertyValue("--rev-percent")>$)return void(q.style.gridTemplateRows="1fr ".repeat(V.length-1)+"1fr");const e=Array.from({length:V.length},(e,t)=>t===r?"4fr":"1fr").join(" ");q.style.gridTemplateRows=e}),t.addEventListener("mouseleave",()=>{q.style.gridTemplateRows="1fr ".repeat(V.length-1)+"1fr",V.forEach(e=>{e.removeAttribute("focused")})}))});let M=document.getElementsByClassName("flip-background")[0],z=document.getElementsByClassName("card-flip");z=Array.from(z);let I=document.getElementsByClassName("pocker-container")[0],W=z.length;I.style.setProperty("--total-card-count",W),M.style.setProperty("z-index",W+1);let j=1;function F(){document.querySelector(".card-flip[flipped]").removeAttribute("flipped"),M.style.setProperty("backdrop-filter","blur(0px)"),M.style.setProperty("-webkit-backdrop-filter","blur(0px)"),setTimeout(()=>{M.style.display="none"},400),document.documentElement.style.overflow=""}M.addEventListener("click",F),document.addEventListener("keydown",e=>{"Escape"===e.key&&F()}),z.forEach(e=>{let t=j;j++,e.style.setProperty("--index",t),e.style.setProperty("z-index",t),e.addEventListener("click",e=>{let t=e.currentTarget;t.hasAttribute("flipped")||(t.setAttribute("flipped",""),M.style.display="block",setTimeout(()=>{M.style.setProperty("backdrop-filter","blur(20px)"),M.style.setProperty("-webkit-backdrop-filter","blur(20px)")},0),document.documentElement.style.overflow="hidden")}),e.addEventListener("mouseenter",e=>{let t=e.currentTarget;if(t.hasAttribute("flipped"))return;t.style.setProperty("transform","scale(1.1) var(--transform) translateY(-40%)");let r=z.indexOf(t)+1,l=r+1.3,n=(W+.8-l)/(W-r);for(let e=0;e<=W-r;e++)z[r+e].style.setProperty("--index",l+e*n)}),e.addEventListener("mouseleave",e=>{let t=1;z.forEach(e=>{let r=t;t++,e.style.setProperty("--index",r),e.style.setProperty("transform","var(--transform)")})})});let G=document.getElementsByClassName("video-play-btn");function O(e){let t=e.parentElement.getElementsByClassName("video-play-btn")[0];e.paused?t.setAttribute("data-playing","false"):t.setAttribute("data-playing","true")}Array.from(G).forEach(e=>{e.addEventListener("click",e=>{let t=e.currentTarget.parentElement.getElementsByTagName("video")[0];t.paused?(t.play(),e.currentTarget.setAttribute("data-playing","true")):(t.pause(),e.currentTarget.setAttribute("data-playing","false"))})});let Y=document.getElementsByTagName("video");Array.from(Y).forEach(e=>{e.addEventListener("play",e=>{O(e.currentTarget)}),e.addEventListener("pause",e=>{O(e.currentTarget)}),e.addEventListener("ended",e=>{O(e.currentTarget)})}),t||(document.querySelectorAll(".card").forEach(e=>{VanillaTilt.init(e,{max:3,glare:!0,"max-glare":.15,scale:1.03,speed:600,perspective:1e3})}),document.querySelectorAll(".front").forEach(e=>{VanillaTilt.init(e,{max:3,glare:!0,"max-glare":.4})}));